<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			
		</style>
	</head>
	<body>
		
		
		<script type="text/javascript">
			var arr=[2,5,'3','a',[1],3];
			var num=0;
			//扁平化函数
			function bph (arr) {
				var arr1=[];
				arr.forEach((value)=>{
					if (value.constructor===Array) {
						arr1=arr1.concat(bph(value))
					}else{
						arr1.push(value)
					}
				})
				return arr1;
			}
			
			bph(arr).forEach((value)=>{
				num+=typeof(value)=="number" ? value:0;
			})
			
//			arr.forEach((value)=>{
//				num+=typeof(value)=="number" ? value:0;
//				if (value.constructor===Array) {
//					value.forEach((values)=>{
//						num+=typeof(values)=="number" ? values:0;
//					})
//				}
//			})

			alert(num)
		</script>
	</body>
</html>
